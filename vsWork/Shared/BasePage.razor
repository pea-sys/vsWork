@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@using vsWork.Stores
@code {
    [Inject]
    public NavigationManager Navigation { get; init; }
    [Inject]
    private IState<CurrentUserState> CurrentState { get; set; }
    [Inject]
    public IDispatcher Dispatcher{ get; set; }

    public FluentValidationValidator fluentValidationValidator;

    protected override void OnParametersSet()
    {
        if (string.IsNullOrEmpty(CurrentState.Value.User.UserId))
        {
            var returnUrl = Navigation!.ToBaseRelativePath(Navigation.Uri);
            if (!string.IsNullOrWhiteSpace(returnUrl))
            {
                Navigation.NavigateTo("", true);
            }
        }
    }
}
