@inherits Fluxor.Blazor.Web.Components.FluxorComponent
@using Blazored.Toast.Services
@using vsWork.Features.Users.Store
@using vsWork.Features.Organizations.Store

@inject IToastService toastService

@code {
    protected override void OnInitialized()
    {

        SubscribeToAction<LoadUsersSuccessAction>(ShowLoadUsersSuccessToast);
        SubscribeToAction<UserSettingSuccessAction>(ShowUserSettingSuccessToast);
        SubscribeToAction<UserSettingFailureAction>(ShowUserSettingFailureToast);

        SubscribeToAction<LoadOrganizationsSuccessAction>(ShowLoadOrganizationsSuccessToast);
        SubscribeToAction<OrganizationSettingSuccessAction>(ShowOrganizationSettingSuccessToast);
        SubscribeToAction<OrganizationSettingFailureAction>(ShowOrganizationSettingFailureToast);

        base.OnInitialized();
    }

    private void ShowLoadUsersSuccessToast(LoadUsersSuccessAction action)
    {
        toastService.ShowSuccess("LoadUsers Success!");
    }
    private void ShowUserSettingSuccessToast(UserSettingSuccessAction action)
    {
        toastService.ShowSuccess("Setting Success!");
    }
    private void ShowUserSettingFailureToast(UserSettingFailureAction action)
    {
        toastService.ShowError("Setting Failure!");
    }
    private void ShowLoadOrganizationsSuccessToast(LoadOrganizationsSuccessAction action)
    {
        toastService.ShowSuccess("LoadOrganizations Success!");
    }
    private void ShowOrganizationSettingSuccessToast(OrganizationSettingSuccessAction action)
    {
        toastService.ShowSuccess("Setting Success!");
    }
    private void ShowOrganizationSettingFailureToast(OrganizationSettingFailureAction action)
{
    toastService.ShowError("Setting Failure!");
}
}
