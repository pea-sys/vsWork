@using System.Timers
@implements IDisposable

<font size=@(FontSize + "px") color=@(StringColor)>@dateTimeString</font>

@code {
    private Timer clockTimer = new Timer(1000);
    private string dateTimeString = DateTime.Now.ToString("yyyy/MM/dd HH:mm:ss");

    [Parameter]
    public string FontSize { get; set; }
    [Parameter]
    public string StringColor { get; set; }

    /// <summary>
    /// イニシャライズ完了イベント
    /// </summary>
    protected override void OnInitialized()
    {
        base.OnInitialized();
        clockTimer.Elapsed += new System.Timers.ElapsedEventHandler(ElapsedEvent);
        clockTimer.Enabled = true;
    }
    /// <summary>
    /// 解放処理
    /// </summary>
    public void Dispose()
    {
        clockTimer.Enabled = false;
        clockTimer.Elapsed -= new ElapsedEventHandler(ElapsedEvent);
    }
    /// <summary>
    /// タイマーイベント
    /// </summary>
    private void ElapsedEvent(Object source, EventArgs e)
    {
        dateTimeString = DateTime.Now.ToString("yyyy/MM/dd HH:mm:ss");
        InvokeAsync(StateHasChanged);
    }
}
